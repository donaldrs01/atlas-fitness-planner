<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Active Agenda </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    /* Pull CSS out into other file */
    
    .navbar, .sidebar {
      background-color: #d32f2f;
    }

    .nav-link, .navbar-brand {
      color: #ffffff;
    }

    .navbar-brand {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.5em;
    }

    .nav-link:hover, .navbar-brand:hover {
      color: #ff7043;
    }

    .sidebar {
      max-width: 10%;
    }

    body {
      background-color: #ffccbc;
      color: #424242;
    }
    
    /*
    .sidebar {
      background-color: #f8f9fa;
      min-height: 100vh;
      padding-top: 20px;
    }
    .sidebar .nav-link {
      color: #333;
      padding: 10px 20px;
      font-weight: bold;
    }
    .sidebar .nav-link:hover {
      background-color: #e9ecef;
    }
      */
    .homepage-header h2 {
      font-size: 4em;
      font-family: "Bebas Neue", sans-serif;
    }
    .quote-section {
      background-color: #f5f5dc;
      padding: 40px 20px;
      text-align: center;
      font-style: italic;
    }
    .weather-section {
      padding: 20px;
      background-color: #ffeadb;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .weather-section h2 {
      font-size: 1.5rem;
      margin-bottom: 20px;
    }

    .navbar-nav {
      list-style-type: none;
      display: flex;
      align-items: center;
    }

    #username-display {
      font-style: italic;
      margin-right: 15px;
    }

    .category-item {
      text-align: center;
    }

    #focus-text {
      font-size: 1.5em;
      color: #ff4500;
      font-style: italic;
    }


    .category-item img {
      width: 100%;
      max-width: 220px;
      max-height: 150px;
      border-radius: 15px;
      margin: 0 auto;
    }

    .category-item h5 {
      font-size: 16px;
      font-weight: bold;
      color: darkslategray;
      text-align: center;
    }

    @media (max-width: 768px) {
      .sidebar {
        display: none;
      }
      .quote-section {
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="#"> Active Agenda </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="templates.html">View Templates</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="resources.html">Resources</a>
          </li>
        </ul>
        <ul class="navbar-nav" id="auth-links">
          <li class="nav-item">
            <a class="nav-link" href="login.html">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="signup.html">Sign Up</a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto d-none" id="user-info">
          <li class="nav-item">
            <span class="nav-link" id="username-display">Welcome, <span id="username-placeholder">User&#33;</span>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id="logout-link">Logout</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <nav class="col-md-2 d-none d-md-block sidebar">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="homepage.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="templates.html">Workout Templates</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="resources.html">Resources</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="planner.html">Agenda</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="login.html">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="signup.html">Sign Up</a>
          </li>
        </ul>
      </nav>

      <!-- Main Content -->
      <main class="col-md-8 ms-sm-auto col-lg-8 px-md-4">
        <!-- Quote Section -->
        <div class="quote-section mb-4">
          <blockquote class="blockquote">
            <p id="quote">"The pain you feel today will be the strength you feel tomorrow." – Arnold Schwarzenegger</p>
          </blockquote>
        </div>

        <!-- Workout Template Section -->
        <div class="container mt-5">
          <div class="homepage-header text-center mb-4">
            <h2>Area of <span id="focus-text" style="font-family: 'Bebas Neue', sans-serif;">Focus</span></h2>
          </div>
          <div class="row justify-content-center">
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#chest-workout">
                <div class="category-item">
                  <img src="/images/chest.jpg" alt="Chest">
                  <h5>Chest</h5>
                </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#arms-workout">
              <div class="category-item">
                <img src="/images/arms.jpg" alt="Arms">
                <h5>Arms</h5>
              </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#glutes-workout">
              <div class="category-item">
                <img src="/images/glutes.webp" alt="Glutes">
                <h5>Glutes</h5>
              </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#legs-workout">
              <div class="category-item">
                <img src="/images/legs.jpg" alt="Legs">
                <h5>Legs</h5>
              </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#core-workout">
              <div class="category-item">
                <img src="/images/core.jpg" alt="Core">
                <h5>Core</h5>
              </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#back-workout">
              <div class="category-item">
                <img src="/images/back.jpg" alt="Back">
                <h5>Back</h5>
              </div>
              </a>
            </div>
            <div class="col-12 col-sm-6 col-md-4 mb-4">
              <a href="templates.html#shoulders-workout">
              <div class="category-item">
                <img src="/images/shoulder.jpg" alt="Shoulders">
                <h5>Shoulders</h5>
              </div>
              </a>
            </div>
          </div>
        </div>
      </main>
      <!-- Weather Section on Right -->
      <aside class="col-md-2 d-none d-md-block">
        <div class="weather-section">
          <h2>Current Forecast</h2>
          <div id="weather-right">
            <p>Loading...</p>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    const apiKey = '22dd5676eaf9df196848c785dd288945';

    // Geoloc for user
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        $('#weather-right').text('Geolocation is not supported by this browser.');
      }
    }

    function showPosition(position) {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;
      fetchWeather(lat, lon);
    }

    // Weather data
    function fetchWeather(lat, lon) {
      const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=imperial&appid=${apiKey}`;

      $.getJSON(apiUrl, function(data) {
        console.log('API Response:', data);
        const currentTemp = Math.round().main.temp;
        const description = data.weather[0].description;

        const weatherHtml = `
          <p><strong>Temperature:</strong> ${currentTemp}°F</p>
          <p><strong>Conditions:</strong> ${description}</p>
        `;

        $('#weather-right').html(weatherHtml);
      }).fail(function(jqXHR, textStatus, errorThrown) {
        console.error('Error retrieving weather data:', jqXHR.status, textStatus, errorThrown);
        $('#weather-right').text('Unable to retrieve weather data.');
      });
    }

    // Handle errors for geolocation
    function showError(error) {
      switch (error.code) {
        case error.PERMISSION_DENIED:
          $('#weather-right').text('User denied the request for Geolocation.');
          break;
        case error.POSITION_UNAVAILABLE:
          $('#weather-right').text('Location information is unavailable.');
          break;
        case error.TIMEOUT:
          $('#weather-right').text('The request to get user location timed out.');
          break;
        case error.UNKNOWN_ERROR:
          $('#weather-right').text('An unknown error occurred.');
          break;
      }
    }

    // Cycle through quotes
    const quotes = [
      "The pain you feel today will be the strength you feel tomorrow. – Arnold Schwarzenegger",
      "Success usually comes to those who are too busy to be looking for it. – Henry David Thoreau",
      "All progress takes place outside the comfort zone. – Michael John Bobak",
      "Everybody wants to be a bodybuilder, but don't nobody want to lift no heavy ass weights - Ronnie Coleman",
      "For me, life is continuously being hungry. The meaning of life is not simply to exist, to survive, but to move ahead, to go up, to achieve, to conquer. - Arnold Schwarzenegger",
      "Don't be scared to LIFT HEAVY! You won't get huge and bulky, you'll just get amazing. - Jessie Hilgenberg",
      "Yeah buddy, if it doesn't challenge you, it doesn't change you. – Ronnie Coleman"
    ];
    let currentQuoteIndex = 0;
    function updateQuote() {
      $('#quote').text(quotes[currentQuoteIndex]);
      currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
    }
    setInterval(updateQuote, 5000);

    $(document).ready(function() {
      getLocation();
    });
  </script>
  <script src="bundle.js"></script>
</body>
</html>